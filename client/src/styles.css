:root{
  --bg:#060912;
  --panel:#0d1325;
  --panel-elevated:rgba(19,27,48,0.82);
  --muted:#97a0b8;
  --text:#f4f6ff;
  --primary:#5b7cfa;
  --primary-200:#8ea3ff;
  --accent:#34d399;
  --border:#1b233d;
  --shadow:0 24px 60px rgba(5,8,18,0.45);
  --chart-text:#e8ecff;
  --chart-muted:rgba(200,208,240,0.82);
  --chart-grid:rgba(148,163,184,0.24);
  --chart-tooltip-bg:rgba(8,12,28,0.92);
  --chart-tooltip-border:rgba(148,163,184,0.35);
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  background: radial-gradient(1400px 900px at 15% -15%, #1b2750 0%, #0b1020 55%, #070b1a 100%);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

.container{
  padding:24px;
  max-width:1200px;
  margin:0 auto;
}

.app-shell{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  gap:28px;
  padding:28px clamp(16px, 3vw, 48px);
}

.app-header{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  gap:20px;
  padding:20px clamp(16px, 2.2vw, 32px);
  border-radius:20px;
  background:linear-gradient(160deg, rgba(25,33,64,0.92) 0%, rgba(10,14,28,0.85) 100%);
  border:1px solid rgba(82,99,161,0.22);
  box-shadow:var(--shadow);
}

.brand{ display:flex; align-items:center; gap:16px }
.brand-logo{ height:34px; width:auto }
.brand h1{ margin:0; font-size: clamp(20px, 2.4vw, 28px); font-weight:600 }
.brand-sub{ margin:4px 0 0; color:var(--muted); font-size:14px; letter-spacing:0.2px }

.header-actions{ display:flex; align-items:center; gap:16px; flex-wrap:wrap }
.header-buttons{ display:flex; gap:10px; flex-wrap:wrap }

.app-main{ display:flex; flex-direction:column; gap:24px }
.filters-panel{ padding:0; overflow:hidden }

.panel-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:18px;
  padding:20px clamp(16px, 2vw, 28px);
  background:linear-gradient(160deg, rgba(42,53,100,0.25), rgba(35,41,78,0));
  border-bottom:1px solid rgba(82,99,161,0.18);
}
.panel-kicker{ text-transform:uppercase; font-size:11px; letter-spacing:0.12em; color:var(--primary-200) }
.panel-title{ font-size: clamp(18px, 2vw, 22px); font-weight:600 }
.panel-meta{ color:var(--muted); font-size:13px }

.panel-body{ padding:20px clamp(16px, 2vw, 28px); display:flex; flex-direction:column; gap:18px }
.panel-toolbar{ display:flex; flex-wrap:wrap; gap:10px; margin-top:4px }

.status{ padding:10px 14px; border-radius:12px; font-size:14px; display:inline-flex; gap:8px; align-items:center }
.status-loading{ background:rgba(91,124,250,0.12); color:var(--primary-200) }
.status-error{ background:rgba(239,68,68,0.15); color:#fecaca; border:1px solid rgba(239,68,68,0.35) }

.app-footer{
  display:flex;
  justify-content:space-between;
  gap:12px;
  padding:18px clamp(16px, 2vw, 32px);
  border-radius:16px;
  background:rgba(9,13,26,0.85);
  color:var(--muted);
  font-size:13px;
  border:1px solid rgba(32,45,74,0.45);
}

.header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
}
.header h1{margin:0; font-weight:600; letter-spacing:0.2px}
.header .spacer{flex:1}
.header .userinfo{color:var(--muted); font-size:14px}
.header .btn{
  background:transparent;
  border:1px solid var(--border);
  color:var(--text);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
}
.header .btn:hover{border-color:#2a3560}

.panel{
  background: var(--panel-elevated);
  border:1px solid rgba(35,45,78,0.5);
  border-radius:16px;
  backdrop-filter: blur(6px);
  box-shadow: var(--shadow);
}

.toolbar{ padding:12px; border-bottom:1px solid var(--border) }
.content{ padding:16px }

.input, select{
  background:#0c1430;
  border:1px solid var(--border);
  color:var(--text);
  padding:10px 12px;
  border-radius:10px;
}

.btn{
  background: linear-gradient(180deg, rgba(18,27,58,0.95) 0%, rgba(12,18,38,0.95) 100%);
  border:1px solid rgba(91,124,250,0.28);
  color: var(--text);
  padding:10px 14px;
  border-radius:12px;
  cursor:pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
}
.btn:hover{ border-color:rgba(142,163,255,0.6); transform:translateY(-1px); box-shadow:0 12px 24px rgba(16,24,44,0.35) }
.btn-primary{ background: linear-gradient(180deg, #5b7cfa 0%, #3c5fe6 100%); border: none; color: white }
.btn-primary:hover{ filter: brightness(1.05) }

.table-wrap{ overflow:auto; border:1px solid var(--border); border-radius:12px }
.table{ width:100%; border-collapse:collapse; min-width:700px }
.table thead tr{ background:#0e1733 }
.table thead th{ position: sticky; top: 0; z-index: 1 }
.table th,.table td{ padding:12px 14px; border-top:1px solid var(--border) }
.table th{ font-size:12px; color:var(--muted); text-align:left }
.table td.right, .th-right{ text-align:right }
.badge{ background:#101b44; border:1px solid #27386f; color:#cfd8ff; font-size:12px; padding:3px 8px; border-radius:999px }

/* Threshold highlighting */
.row-bad td{ background: rgba(239,68,68,0.08) }
.row-warn td{ background: rgba(250,204,21,0.08) }
.row-good td{ background: rgba(34,197,94,0.06) }

.tabs{
  display:flex;
  flex-direction: row;
  gap:10px;
  border-bottom:1px solid rgba(52,64,109,0.4);
  margin-bottom:10px;
  overflow-x:auto;
  white-space:nowrap;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  padding-bottom:6px;
}
.tab{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 14px;
  border-radius:12px;
  border:none;
  background:rgba(34,42,72,0.45);
  color:var(--muted);
  cursor:pointer;
  flex:0 0 auto;
  scroll-snap-align:start;
  font-size:14px;
  transition:background 0.15s ease, color 0.15s ease, transform 0.15s ease;
}
.tab:hover, .tab:focus-visible{ color:var(--text); background:rgba(57,74,138,0.55) }
.tab:focus-visible{ outline:2px solid var(--primary); outline-offset:2px }
.tab.active{ background:linear-gradient(180deg, rgba(91,124,250,0.45) 0%, rgba(73,101,208,0.45) 100%); color:var(--text); transform:translateY(-1px) }

.grid{ display:grid; grid-template-columns:1.2fr 1fr; gap:16px }
@media (max-width: 960px){ .grid{ grid-template-columns: 1fr } }

/* Filters grid */
.filters-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
  align-items: end;
}
@media (max-width: 1200px){ .filters-grid{ grid-template-columns: repeat(3, minmax(0, 1fr)) } }
@media (max-width: 900px){ .filters-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)) } }
@media (max-width: 560px){ .filters-grid{ grid-template-columns: 1fr } }

.filters-actions{
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* Small devices: phones and small tablets */
@media (max-width: 768px){
  .container{ padding:16px }
  .header{ flex-wrap:wrap; gap:8px }
  .header h1{ font-size:18px }
  .header img{ height:22px }
  .header .btn{ padding:8px 10px; font-size:13px }
  .btn{ padding:8px 10px; font-size:13px }
  .input, select{ padding:8px 10px; font-size:14px }
  .content{ padding:12px }
  .panel{ border-radius:12px }
  .kpi-grid{ grid-template-columns: repeat(2, 1fr) }
  .app-shell{ padding:20px 16px; gap:20px }
  .app-header{ padding:18px 16px }
  .header-buttons{ width:100%; justify-content:flex-start }
  .header-buttons .btn{ flex:1 1 auto; text-align:center }
  .panel-header{ flex-direction:column; align-items:flex-start; gap:10px }
  .panel-body{ padding:18px 16px }
  .app-footer{ flex-direction:column; align-items:flex-start }
}

@media (max-width: 480px){
  .container{ padding:12px }
  .header h1{ font-size:16px }
  .tabs{ gap:6px }
  .tab{ padding:8px 10px; font-size:13px }
  .table th, .table td{ padding:10px 10px }
  .table{ min-width: 600px }
  .brand{ flex-direction:column; align-items:flex-start }
  .brand-logo{ height:28px }
  .brand-sub{ font-size:13px }
  .header-buttons{ gap:6px }
}

.visually-hidden{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0 }

/* Mobile utilities */
.hide-sm{ display: block }
.show-sm{ display: none }
@media (max-width: 600px){
  .hide-sm{ display: none !important }
  .show-sm{ display: block !important }
}

/* Card list for small screens */
.card-list{ display:grid; gap:10px }
.card{ padding:12px; border:1px solid var(--border); border-radius:12px; background: rgba(255,255,255,0.03) }
.card .row{ display:flex; justify-content:space-between; gap:8px; margin:4px 0 }
.badge-warn{ background:rgba(250,204,21,0.15); color:#fde68a; border:1px solid rgba(250,204,21,0.35) }
.badge-bad{ background:rgba(239,68,68,0.18); color:#fecaca; border:1px solid rgba(239,68,68,0.35) }
.badge-good{ background:rgba(34,197,94,0.14); color:#bbf7d0; border:1px solid rgba(34,197,94,0.35) }

/* Ampel dots */
.dot{ display:inline-block; width:10px; height:10px; border-radius:50%; vertical-align:middle; margin-right:6px; border:1px solid rgba(0,0,0,0.15) }
.dot-good{ background:#22c55e }
.dot-warn{ background:#facc15 }
.dot-bad{ background:#ef4444 }

/* KPI grid */
.kpi-grid{ display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; margin-bottom:12px }
@media (max-width: 960px){ .kpi-grid{ grid-template-columns: repeat(2, 1fr) } }
.kpi-card{ padding:12px }
.kpi-title{ color:var(--muted); font-size:12px }
.kpi-value{ font-size:22px; font-weight:600 }

/* Modal */
.modal-overlay{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at 20% 15%, rgba(52,74,138,0.35), rgba(4,7,18,0.82) 60%)
    ,rgba(4,7,18,0.65);
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding:48px clamp(12px, 4vw, 48px);
  z-index:90;
  backdrop-filter:blur(10px);
}

.modal-container{
  background:linear-gradient(180deg, rgba(17,24,48,0.96) 0%, rgba(11,16,32,0.94) 100%);
  border:1px solid rgba(91,124,250,0.24);
  border-radius:22px;
  box-shadow:0 28px 80px rgba(5,8,18,0.55);
  width:100%;
  max-width:90vw;
  max-height:calc(100vh - 96px);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.modal-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:16px;
  padding:20px 24px;
  background:linear-gradient(160deg, rgba(37,49,96,0.45), rgba(17,26,52,0));
  border-bottom:1px solid rgba(148,163,184,0.16);
}
.modal-header-text{ display:flex; flex-direction:column; gap:4px }
.modal-title{ margin:0; font-size:20px; font-weight:600 }
.modal-subtitle{ margin:0; font-size:13px; color:var(--muted) }

.modal-close{
  background:rgba(15,23,42,0.42);
  border:1px solid rgba(148,163,184,0.25);
  color:var(--text);
  width:36px;
  height:36px;
  border-radius:999px;
  cursor:pointer;
  transition:background 0.15s ease, border-color 0.15s ease, transform 0.15s ease;
}
.modal-close:hover{ background:rgba(96,165,250,0.32); border-color:rgba(147,197,253,0.55); transform:translateY(-1px) }

.modal-body{
  flex:1 1 auto;
  overflow-y:auto;
  padding:22px 24px 26px;
  display:flex;
  flex-direction:column;
  gap:18px;
}

.modal-body.modal-body-scroll{ padding-right:18px }

.modal-footer{
  display:flex;
  justify-content:flex-end;
  align-items:center;
  flex-wrap:wrap;
  gap:12px;
  padding:18px 24px;
  border-top:1px solid rgba(148,163,184,0.18);
  background:linear-gradient(0deg, rgba(16,23,45,0.65), rgba(16,23,45,0.35));
}

.dialog-stack{ display:flex; flex-direction:column; gap:12px }

.dialog-section{
  padding:20px 22px;
  display:flex;
  flex-direction:column;
  gap:16px;
  background:linear-gradient(180deg, rgba(23,34,68,0.18), rgba(7,12,28,0.1));
  border-radius:14px;
}

.dialog-section-header{
  display:flex;
  align-items:flex-start;
  flex-wrap:wrap;
  gap:12px;
}

.dialog-section-heading{ display:flex; flex-direction:column; gap:4px; min-width:220px }
.dialog-section-title{ margin:0; font-size:17px; font-weight:600; letter-spacing:0.2px }
.dialog-section-subtitle{ margin:0; font-size:13px; color:var(--muted); line-height:1.4 }
.dialog-section-spacer{ flex:1 }

.dialog-section-actions{ display:flex; gap:8px; flex-wrap:wrap }

.dialog-section-grid{ display:grid; gap:10px }

.dialog-inline{ display:flex; flex-wrap:wrap; gap:8px; align-items:center }

.dialog-footer{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; width:100% }
.dialog-footer-spacer{ flex:1 }
.dialog-footer-msg{ color:var(--muted); font-size:13px }

.dialog-section-note{ color:var(--muted); font-size:12px; line-height:1.5 }

.dialog-divider{ height:1px; background:rgba(82,99,161,0.25); margin:6px 0 }

.dialog-section + .dialog-section{ margin-top:6px }

.dialog-section-body{ display:flex; flex-direction:column; gap:12px }
.dialog-scroll-x{ overflow-x:auto }
.dialog-empty{ color:var(--muted); font-size:13px }

@media (max-width: 640px){
  .modal-overlay{ padding:12px }
  .modal-container{ border-radius:16px }
  .modal-header{ padding:16px }
  .modal-body{ padding:16px }
  .modal-footer{ padding:12px 16px }
}

/* Table utilities */
.table.sticky thead th{ position: sticky; top: 0; z-index: 1; background: #0f1a3d }
.table.nowrap th, .table.nowrap td{ white-space: nowrap }
.table.wrap th, .table.wrap td{ white-space: normal; word-break: break-word }
.table.dense th, .table.dense td{ padding: 6px 8px }

/* Responsive chart containers */
.chart{ height: clamp(240px, 38vh, 420px) }
.chart-lg{ height: clamp(260px, 45vh, 560px) }
.chart-sm{ height: clamp(200px, 30vh, 340px) }
@media (max-width: 768px){
  .chart{ height: clamp(220px, 36vh, 400px) }
  .chart-lg{ height: clamp(240px, 40vh, 520px) }
  .chart-sm{ height: clamp(180px, 28vh, 300px) }
}
@media (max-width: 480px){
  .chart{ height: clamp(200px, 34vh, 360px) }
  .chart-lg{ height: clamp(220px, 38vh, 480px) }
  .chart-sm{ height: clamp(160px, 26vh, 280px) }
}

/* Helpers */
.flex-wrap{ flex-wrap: wrap }
.gap-8{ gap:8px }

/* Print styles */
@media print{
  body{ background:white; color:#000 }
  .header, .tabs, .toolbar, .btn{ display:none !important }
  .panel{ border:none; box-shadow:none }
  .table-wrap{ border:none }
}
